{% extends 'base/base.html' %}

{% block title %}
Contact
{% endblock %}

{% block content %}

This is the contact page.

{% endblock %}

<!-- Include Font Awesome (add this in your base.html head section once) -->


<header id="site-header" class="fixed-top position-relative z-3">
  <nav class="navbar navbar-expand-lg custom-navbar shadow-sm">
    <div class="container-fluid">

      <!-- Brand -->
      <a class="navbar-brand fw-bold d-flex align-items-center text-light fs-4 me-4" href="{% url 'home_page' %}" style="letter-spacing: 1px;">
        <i class="fa-solid fa-clapperboard me-2"></i> CineXpress
      </a>

      <!-- Toggler -->
      <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
        aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <!-- Navbar Links -->
      <div class="collapse navbar-collapse" id="navbarContent">
        <!-- Left Side -->
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link fw-semibold text-light active" href="{% url 'home_page' %}">
              <i class="fa-solid fa-house me-1"></i> Home
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link fw-semibold text-light" href="#">
              <i class="fa-solid fa-film me-1"></i> Movies
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link fw-semibold text-light" href="#">
              <i class="fa-solid fa-video me-1"></i> Cinemas
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link fw-semibold text-light" href="#">
              <i class="fa-solid fa-ticket me-1"></i> My Bookings
            </a>
          </li>
        </ul>

        <!-- Right Side -->
        <ul class="navbar-nav mb-2 mb-lg-0 d-flex align-items-center">
          <!-- Accounts -->
          <li class="nav-item dropdown me-3">
            <a class="nav-link fw-semibold dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-user me-1"></i> Accounts
            </a>
            <ul class="dropdown-menu dropdown-menu-dark bg-dark bg-opacity-90" style="backdrop-filter: blur(10px);">
              <li><a class="dropdown-item text-light auth-link" href="#">Login</a></li>
              <li><a class="dropdown-item text-light auth-link" href="#">Register</a></li>
            </ul>
          </li>

          <!-- Staff Hub -->
          <li class="nav-item dropdown staff-hub me-3">
            <a class="nav-link fw-semibold dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-users-gear me-1"></i> Staff Hub
            </a>
            <ul class="dropdown-menu dropdown-menu-dark bg-dark bg-opacity-90" style="backdrop-filter: blur(10px);">
              <li><a class="dropdown-item text-light manage-highlight" href="{% url 'carousels_page' %}">Manage Carousels</a></li>
              <li><a class="dropdown-item text-light manage-highlight" href="{% url 'view_movies' %}">Manage Movies</a></li>
              <li><a class="dropdown-item text-light manage-highlight" href="#">Manage Bookings</a></li>
              <li><a class="dropdown-item text-light manage-highlight" href="#">Manage Theatres</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item text-logout fw-semibold manage-highlight" href="#">
                <i class="fa-solid fa-right-from-bracket me-1"></i> Logout
              </a></li>
            </ul>
          </li>

          <!-- Search -->
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search movies..." aria-label="Search">
            <button class="btn btn-primary" type="submit">
              <i class="fa-solid fa-magnifying-glass"></i>
            </button>
          </form>
        </ul>
      </div>
    </div>
  </nav>
</header>

<style>
    
.custom-navbar {
  background: linear-gradient(90deg, #22022c, #280d61, #6825bf);
  border-bottom: 2px solid #320f53;
}

.nav-link:hover {
  color: #3db9f5;
  transition: color 0.3s ease;
}

.dropdown-item.manage-highlight:hover {
  background-color: #3db9f5;
  color: #fff;
  font-weight: 600;
  transition: background-color 0.3s ease;
}

.dropdown-item.text-logout:hover {
  background-color: #ff6f61;
  color: #fff;
  transition: background-color 0.3s ease;
}

.auth-link:hover {
  background-color: #00bcd4;
  color: #fff;
  font-weight: bold;
  transition: background-color 0.3s ease;
}

</style>




<header id="site-header" class="fixed-top position-relative z-3">
  <nav class="navbar navbar-expand-lg custom-navbar shadow-sm">
    <div class="container-fluid">
      <!--Brand-->
     <a class="navbar-brand fw-bold d-flex align-items-center text-light fs-4 me-4" href="{% url 'home_page' %}" style="letter-spacing: 1px;">
        <!-- <i class="fa-solid fa-clapperboard me-2"></i> -->CineXpress
     </a>
     <!--Toggler-->
     <button class="navbar-toggler text-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
        aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span>
      </button>
      <!-- Navbar Content -->
      <div class="collapse navbar-collapse justify-content-between" id="navbarContent">
        <ul class="navbar-nav mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link fw-semibold text-light active" href="{% url 'home_page' %}"><!-- <i class="fa-solid fa-house me-1"></i> -->Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-semibold text-light" href="#"><!-- <i class="fa-solid fa-film me-1"></i> -->Movies</a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-semibold text-light" href="#"><!-- <i class="fa-video fa-solid fa-landmark-dome me-1"></i> -->Cinemas</a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-semibold text-light" href="#"><!-- <i class="fa-solid fa-ticket me-1"></i> -->My Bookings</a>
          </li>
        </ul>
        <!-- Center Search -->
        <form class="d-flex mx-auto search-form" role="search" style="max-width: 350px; width: 100%;">
          <input class="form-control me-2 search-input" type="search" placeholder="Search for movies..." aria-label="Search">
          <button class="btn btn-primary" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
        </form>
        <!-- Right Side -->
        <ul class="navbar-nav mb-2 mb-lg-0 d-flex align-items-center">
          <!-- Accounts -->
          <li class="nav-item dropdown me-3">
            <a class="nav-link fw-semibold dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-user me-1"></i> Accounts
            </a>
            <ul class="dropdown-menu dropdown-menu-dark bg-dark bg-opacity-90" style="backdrop-filter: blur(10px);">
              <li><a class="dropdown-item text-light auth-link" href="#">Login</a></li>
              <li><a class="dropdown-item text-light auth-link" href="#">Register</a></li>
            </ul>
          </li>
          <!-- Staff Hub -->
          <li class="nav-item dropdown staff-hub me-3">
            <a class="nav-link fw-semibold dropdown-toggle text-light" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa-solid fa-users-gear me-1"></i> Staff Hub
            </a>
            <ul class="dropdown-menu dropdown-menu-dark bg-dark bg-opacity-90" style="backdrop-filter: blur(10px);">
              <li><a class="dropdown-item text-light manage-highlight" href="{% url 'carousels_page' %}">Manage Carousels</a></li>
              <li><a class="dropdown-item text-light manage-highlight" href="{% url 'view_movies' %}">Manage Movies</a></li>
              <li><a class="dropdown-item text-light manage-highlight" href="#">Manage Bookings</a></li>
              <li><a class="dropdown-item text-light manage-highlight" href="#">Manage Theatres</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item text-logout fw-semibold manage-highlight" href="#">
                <i class="fa-solid fa-right-from-bracket me-1"></i> Logout
              </a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>



<style>
  /* header nav bar option style */
header#site-header {
    height: 45px;
    position: fixed;     /* üÜï keeps navbar at the top */
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1000;       /* ensures it's above all content */
    background: linear-gradient(90deg, #2b0040, #4b007d); /* optional: smooth color */
}

/* home carousel image size */

    /* #home-carousel {
    .custom-carousel img {
        width: 100%;
        height: calc(100vh - 75px);
        object-fit: fill; 
        object-position: top center; 
        display: block; 
    }
} */


</style>

{% load mathfilters %}

<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    {% for img in carousel_images %}
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}" 
              aria-current="{% if forloop.first %}true{% endif %}" aria-label="Slide {{ forloop.counter }}">
      </button>
    {% endfor %}
  </div>

  <div class="carousel-inner custom-carousel">
    {% for img in carousel_images %}
      <div class="carousel-item {% if forloop.first %}active{% endif %}">
        <img src="{{ img.image.url }}" class="d-block w-100" alt="{{ img.title|default:'Movies carousel' }}">
      </div>
    {% endfor %}
  </div>

  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>

  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>



{% block content %}
<div>
    <h2 class="text-center">
        Add Carousel
    </h2>
</div>
<div class="container card shadow ">
    <form method="post" enctype="multipart/form-data" class="form d-flex flex-column">
        {% csrf_token %}
        {% for field in form %}
        <div class="row">
            <div class="col">
                {{field.name.capitalize}}
            </div>
            <div class="col">
                {{field}}
            </div>
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-success">Add Carousel</button>
    </form>
</div>

{% endblock %}


{% load static %}
<div class="card col-12 col-sm-6 col-md-4 col-lg-3 p-2">
  <img src="{{carousel.image.url}}" class="card-img-fluid rounded" alt="...">
  <div class="card-body row">
    <div class="col-6">
      <h5 class="card-title">{{carousel.title}}</h5>
      <p class="card-text text-truncate fs-6">
        {{carousel.caption}}
      </p>
    </div>
    <div class="col-6">
      <a href="{% url 'edit_carousel' carousel.id %}" class="btn btn-info">
        <!-- Update -->
        <i class="bi bi-pencil-square"></i>
      </a>
      <a href="{% url 'del_carousel' carousel.id %}" class="btn btn-danger">
        <!-- Delete -->
        <i class="bi bi-trash"></i>
      </a>
    </div>
  </div>

</div>

<!--movie_list-->
<!-- <section class="text-center pt-5">
  <a href="{% url 'add_movie' %}" class="btn btn-success btn-lg px-5 shadow-lg add-movie-btn">Add Movie</a>
</section> -->

<!-- <a href="{% url 'add_movie' %}" class="btn btn-success btn-lg px-5 shadow-lg add-movie-btn">Launch a  Movie</a> -->


<a href="{% url 'movie_detail' movie.id %}" class="text-decoration-none">
  <div class="ratio ratio-2x3">
    {% if movie.poster %}
      <img src="{{ movie.poster.url }}" class="card-img-top img-fluid object-fit-cover rounded" alt="{{ movie.title }} poster">
    {% else %}
      <img src="{% static 'images/movie-placeholder.png' %}" class="card-img-top img-fluid object-fit-cover rounded" alt="No poster">
    {% endif %}
  </div>
</a>



<!-- Genre + Language -->
      <p class="mb-1 small text-muted">
        {{ movie.get_genre_display }} ¬∑ {{ movie.get_language_display }}
      </p>

      <!-- Duration -->
      <p class="mb-2 small text-muted">
        Duration: {{ movie.duration }} min
      </p>




{% load static %}

<div class="col-12 col-sm-6 col-md-4 col-lg-3 mb-4">
  <div class="card h-100 shadow-sm border-0">
   <!-- Movie Poster -->
    <a href="{% url 'movie_detail' movie.id %}" class="text-decoration-none">
      {% if movie.poster %}
        <img src="{{ movie.poster.url }}" class="card-img-top" alt="{{ movie.title }} poster">
      {% else %}
        <img src="{% static 'images/movie-placeholder.png' %}" class="card-img-top" alt="No poster">
      {% endif %}
    </a>
    <!-- Movie Details -->
    <div class="card-body d-flex flex-column">
      <!-- Title -->
      <h5 class="card-title mb-1">
        <a href="{% url 'movie_detail' movie.id %}" class="text-dark text-decoration-none">
          {{ movie.title }}
        </a>
      </h5>
      <!-- Genres + Language -->
      <p class="mb-1 small text-muted">
        {{ movie.get_genre_display }} ¬∑ {{ movie.get_language_display }}
      </p>
      <!-- Duration -->
      <p class="mb-2 small text-muted">
        Duration: {{ movie.get_duration_display }}
      </p>
      <!-- Description Preview -->
      <p class="text-muted small mb-3">
        {{ movie.description}}
      </p>
      <!-- Buttons Section -->
    <div class="mt-auto">
      <div class="d-flex justify-content-between align-items-center">
        <!-- Book Button -->
        <a href="#" class="btn btn-primary btn-sm">Book</a>
        <!-- Edit & Delete on Button -->
      <div class="d-flex gap-2">
        <a href="{% url 'edit_movie' movie.id %}" class="btn btn-outline-info btn-sm" title="Edit Movie">
          <i class="bi bi-pencil-square"></i>
        </a>
        <a href="{% url 'del_movie' movie.id %}" class="btn btn-outline-danger btn-sm" title="Delete Movie">
          <i class="bi bi-trash"></i>
        </a>
      </div>
    </div>
   </div>
  </div>
 </div>
</div>


<!-- Display detail of movies -->

{% extends 'base/base.html' %}

{% block title %}
{{movie.title.capitalize}}
{% endblock %}

{% block content %}
<section class='container movie-container'>
    <div class='row'>
        <div class='col-12 col-md-6'>
            <img src="{{movie.poster.url}}" alt="" class="w-100">
        </div>
        <div class="col-12 col-md-6">
            <iframe width="547" height="438" src="https://www.youtube.com/embed/{{movie.youtube_trailer}}"
                title="{{movie.title}}"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

        </div>
    </div>

</section>

{% endblock %}

<!-- üé• Trailer Section -->
  <div class="row mt-5 justify-content-center">
    <div class="col-12 col-lg-8 text-center">
      <h3 class="fw-semibold text-light mb-3">Watch Trailer</h3>
      <div class="ratio ratio-16x9">
        <iframe src="https://www.youtube.com/embed/{{ movie.youtube_trailer }}"
          title="{{ movie.title }} trailer"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          referrerpolicy="strict-origin-when-cross-origin"
          allowfullscreen
          class="rounded shadow"></iframe>
      </div>
    </div>
  </div>
</section>

<div class="row g-4 align-items-start">
    <!-- Movie Poster -->
    <div class="col-12 col-lg-5 text-center">
      <img src="{{ movie.poster.url }}" alt="{{ movie.title }}" class="img-fluid rounded-3 shadow movie-poster">
    </div>


    <section class="container movie-container ">
   <div class='row'>
        <div class='card-body h-100 shadow-sm border-0'>
            <img src="{{movie.poster.url}}" alt="" class="w-100">
        </div>
        <div class="col-12 col-md-6">
            <iframe width="547" height="438" src="https://www.youtube.com/embed/{{movie.youtube_trailer}}"
                title="{{movie.title}}"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

        </div>
    </div>
    <!-- Movie Info -->
    <div class="col-12 col-lg-7">
      <h1 class="fw-bold text-dark mb-3"> {{ movie.title }}</h1>
      <p class="text-secondary mb-2"><strong>Director:</strong> {{ movie.director }}</p>
      <p class="text-secondary mb-2"><strong>Cast:</strong> {{ movie.actors }}</p>
      <p class="text-secondary mb-2"><strong>Music:</strong> {{ movie.music_composer }}</p>
      <p class="text-secondary mb-2"><strong>Genre:</strong> {{ movie.get_genre_display }}</p>
      <p class="text-secondary mb-2"><strong>Language:</strong> {{ movie.get_language_display }}</p>
      <p class="text-secondary mb-2"><strong>Release Date:</strong> {{ movie.release_date|date:"d F, Y" }}</p>
      <p class="text-secondary mb-2"><strong>Duration:</strong> {{ movie.get_duration }}</p>

      <p class="text-secondary mb-2"><strong>Description:</strong> {{ movie.description }}</p>

      <div class="mt-4">
        <a href="#" class="btn btn-danger px-4 me-2">Book Ticket</a>
        <a href="{% url 'view_movies' %}" class="btn btn-outline-light px-4">‚Üê Back to Movies</a>
      </div>
    </div>
  </div>

 
{% endblock %}




<section class="container movie-container mt-5 mb-5">
  <div class="row align-items-center">
    <div class="col-md-4 mb-4">
      <img src="{{ movie.poster.url }}" alt="{{ movie.title }} poster"
           class="w-100 rounded shadow-sm" style="height: 450px; object-fit: cover;">
    </div>

    <div class="col-md-8 mb-4">
      <div class="ratio ratio-16x9 rounded shadow-sm">
        <iframe src="https://www.youtube.com/embed/{{ movie.youtube_trailer }}" 
                title="{{ movie.title }} trailer" 
                allowfullscreen style="border:none;"></iframe>
      </div>
    </div>
  </div>

  <div class="row mt-4">
    <div class="col-12">
      <h1 class="fw-bold text-dark mb-3">{{ movie.title }}</h1>
      <p><strong>Director:</strong> {{ movie.director }}</p>
      <p><strong>Cast:</strong> {{ movie.actors }}</p>
      <p><strong>Music:</strong> {{ movie.music_composer }}</p>
      <p><strong>Genre:</strong> {{ movie.get_genre_display }}</p>
      <p><strong>Language:</strong> {{ movie.get_language_display }}</p>
      <p><strong>Release Date:</strong> {{ movie.release_date|date:"d F, Y" }}</p>
      <p><strong>Duration:</strong> {{ movie.get_duration_display }}</p>
      <p><strong>Description:</strong> {{ movie.description }}</p>

      <div class="mt-4 text-start">
        <a href="#" class="btn btn-danger px-4 py-2 rounded-pill shadow-sm">
          üéüÔ∏è Book Ticket
        </a>
      </div>
    </div>
  </div>
</section>


{% block content %}
<div>
    <h2 class="text-center">
        Edit Movie
    </h2>
</div>
<div class="container card shadow ">
    <form method="post" enctype="multipart/form-data" class="form d-flex flex-column">
        {% csrf_token %}
        {% for field in form %}
        <div class="row">
            <div class="col">
                {{field.name.capitalize}}
            </div>
            <div class="col">
                {{field}}
            </div>
        </div>
        {% endfor %}
        <button type="submit" class="btn btn-success">Save</button>
    </form>
</div>

{% endblock %}